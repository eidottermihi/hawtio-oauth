<div ng-controller="GithubPreferencesController">
  <h3>GitHub login</h3>
  <div class="alert alert-success" role="alert" ng-if="model.accessToken && !model.trying">
    <p><img style="width: 64px; height: 64px;" ng-src="{{model.avatarURL}}">&nbsp;Logged in as <strong>{{model.name}}</strong>, <a href="" ng-click="check()">Check access</a><strong ng-if="model.data.app.name">&nbsp;<i class="fa fa-check green"></i></strong></p>
    <p>Github access is enabled, <a href="" ng-click="clearToken()">disable access</a></p>
  </div>
  <div class="alert alert-warning" role="alert" ng-if="model.error">
    <button type="button" class="close" ng-click="model.error = false" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    Error logging in: {{model.data.statusText}} - {{model.data.responseJSON.message}}
  </div>
  <div class="alert alert-info" ng-show="model.trying">
    <div class="align-center">
      <div class="spinner spinner-lg"></div>
    </div>
  </div>
  <form ng-if="!model.accessToken" class="form-horizontal">
    <p>Log into Github here to enable access to your Github organizations and repositories</p>
    <div class="form-group">
      <label class="col-sm-2 control-label" for="username">User Name</label>
      <div class="col-sm-10">
        <input class="form-control" id="username" type="text" ng-model="model.username">
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label" for="password">Password</label>
      <div class="col-sm-10">
        <input class="form-control" id="password" type="password" ng-model="model.password">
      </div>
    </div>
    <button class="btn btn-success pull-right" ng-disabled="disabled()" ng-click="login()">Log In</button>
  </form>
  <!-- <pre>{{model | json}}</pre> -->
</div>
